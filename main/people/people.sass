
div#home.people-page
	.unfocused
		opacity: 0.4
		filter: blur(2px) contrast(0.8)

	.role
		text-transform: capitalize
		color: var(--GREY6)
		font:
			family: OpenSansItalic

	// ***  grid
	& > div.grid
		@include gridContainerMixin("div.person")
		text-align: center

		& > div.person
			cursor: pointer


			height: 100%
			transition: opacity 500ms


			& > img
				// inherits from div.person, whose width is 100% in mixins.sass
				width: inherit
				border-radius: 15px
				object-fit: cover
				@include min-width($BP4)
					height: calc(var(--tagWidth) / (4 / 3))

				@include max-width($BP4)
					// arbitrary, looks good
					height: 160px


			& > div
				text-transform: capitalize

			& > div.name
				font:
					size: large
					family: OpenSansSemiBold


	// ***  expando
	div#person_expando
		@include borderMixin(var(--GREY02))

		// [min-width: $BP1]:  30px
		// [max-width: $BP1]:  20px
		--expandoPadding: 30px
		$svgDim: 25
		//@include max-width($BP1)
			font-size: 15px

		$baseTransition: height 50ms 0s, width 200ms cubic-bezier(0.5, 0, 1, 0), border 500ms cubic-bezier(0, 0, 1, 0)
		@include min-width($BP4)
			transition: $baseTransition, box-shadow 1500ms
			--cvRightGap: 25px
		@include max-width($BP4)
			--cvRightGap: 15px
			align-content: flex-start
			border-radius: 15px
			bottom: var(--MOBILE_NAVBAR_HEIGHT)
			place-content: flex-start
			top: var(--MOBILE_NAVBAR_HEIGHT)
			transition: $baseTransition, box-shadow 500ms, opacity 0.2s

			$marginBlockStart: -4px
			& > div.title
				text-transform: capitalize
				color: var(--GREY8)
				font:
					size: 20px
					family: OpenSansBold
				letter-spacing: -0.5px
				margin-block-start: $marginBlockStart
				//margin-bottom: 24px
				margin-bottom: 0px

			& > div.role
				margin-bottom: 16px
				margin-top: $marginBlockStart

		background-color: white
		box-shadow: 0px 2px 10px white
		display: flex
		flex-wrap: wrap
		height: 0

		// [min-width: $BP1]:  -50px
		// [max-width: $BP1]:  -33.3333px
		margin-top: -50px

		overflow: hidden
		padding: var(--expandoPadding)
		text-align: left


		// [min-width: $BP1]:  255 - 30*2  =  195px
		// [max-width: $BP1]:  216 - 20*2  =  176px
		width: calc(var(--tagWidth) - 2 * var(--expandoPadding))


		& > div.cv
			width: calc(100% - #{$svgDim}px - var(--cvRightGap))
			margin-block-start: -5px
			//color: var(--GREY7)

			& > p
				font-size: unset
				line-height: unset

		& > div.email
			width: 100%

		& > svg#svg_root
			// *  DEP: people.ts Expando constructor() svgX attr viewBox

			cursor: pointer
			margin-bottom: auto
			margin-left: auto
			width: $svgDim + px
			padding-left: var(--cvRightGap)
			//padding-bottom: $svgDim + px
			padding-bottom: 0px


			& > path
				fill: none
				stroke-width: 1px
				stroke: var(--GREY6)


				&.upright
					d: path("m #{$svgDim - 1} 1 l -#{$svgDim - 2} #{$svgDim - 2}")

				&.downleft
					d: path("m 1 1 l #{$svgDim - 2} #{$svgDim - 2}")


		// **  collapsed
		&.collapsed
			padding: 0
			opacity: 0
			z-index: -1

		// **  expanded
		&.expanded
			border-color: white
			height: 300px
			opacity: 1
			z-index: 5

			& > div.cv
			//color: var(--GREY7)

			& > div.email
				margin-top: 10px

			& > div.close
				opacity: 1

			@include min-width($BP4)
				box-shadow: 0px 2px 10px var(--GREY3)
				width: calc(var(--tagWidth) * 2)

			@include max-width($BP4)
				box-shadow: 0px 5px 10px var(--GREY5)
				height: auto
				margin: auto
				position: fixed

				width: 75%








